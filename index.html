<script src="datos.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const tabla = document.getElementById("tabla-datos");
    if (!window.dataHistorica || !Array.isArray(window.dataHistorica)) return;

    const encabezados = Object.keys(window.dataHistorica[0]);
    const thead = document.createElement("thead");
    const trHead = document.createElement("tr");
    encabezados.forEach(col => {
      const th = document.createElement("th");
      th.textContent = col;
      trHead.appendChild(th);
    });
    thead.appendChild(trHead);
    tabla.appendChild(thead);

    const tbody = document.createElement("tbody");
    window.dataHistorica.forEach(fila => {
      const tr = document.createElement("tr");
      encabezados.forEach(col => {
        const td = document.createElement("td");
        td.textContent = fila[col];
        tr.appendChild(td);
      });
      tbody.appendChild(tr);
    });
    tabla.appendChild(tbody);
  });
</script>
<table id="tabla-datos"></table>
